<div class="support-container">
  <!-- Header -->
  <header class="support-header">
    <div class="header-content">
      <div class="logo">
        <svg width="28" height="28" viewBox="0 0 28 28" fill="none">
          <circle cx="14" cy="14" r="12" fill="#007df4"/>
          <path d="M14 7L10 10H14V17L18 14H14V7Z" fill="white"/>
        </svg>
        <span class="logo-text">IATA Master Support</span>
      </div>
      <nav class="header-nav">
        <a routerLink="/bookings" routerLinkActive="active" class="nav-link">Bookings</a>
        <a routerLink="/wallet" routerLinkActive="active" class="nav-link">Wallet</a>
        <a routerLink="/reports" routerLinkActive="active" class="nav-link">Reports</a>
        <a routerLink="/settings" routerLinkActive="active" class="nav-link">Settings</a>
      </nav>
      <div class="header-actions">
        <div class="search-header">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="search-icon-header">
            <circle cx="7" cy="7" r="5" stroke="#6B7280" stroke-width="1.5"/>
            <path d="M11 11L14 14" stroke="#6B7280" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <input type="text" placeholder="Global Search" class="search-input-header">
        </div>
        <div class="agency-badge">
          <span>Agency ID: {{ agencyId }}</span>
        </div>
        <div class="user-avatar">
          <span class="avatar-circle"></span>
        </div>
      </div>
    </div>
  </header>

  <!-- Breadcrumb -->
  <div class="breadcrumb">
    <div class="breadcrumb-content">
      <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
        <path d="M2 5L7 2L12 5V11C12 11.5523 11.5523 12 11 12H3C2.44772 12 2 11.5523 2 11V5Z" stroke="#6B7280" stroke-width="1.3"/>
        <path d="M5 12V7H9V12" stroke="#6B7280" stroke-width="1.3"/>
      </svg>
      <a routerLink="/dashboard" class="breadcrumb-link">Dashboard</a>
      <span class="separator">/</span>
      <span class="current">Help Center</span>
    </div>
  </div>

  <!-- Main Content -->
  <main class="support-main">
    <!-- Hero Section -->
    <section class="hero-section">
      <div class="hero-content">
        <h1>How can we help your agency?</h1>
        <p class="hero-subtitle">Instant support for Amadeus PNRs, ticketing issues, and wallet management.</p>

        <div class="search-box">
          <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <circle cx="9" cy="9" r="6" stroke="#9CA3AF" stroke-width="1.8"/>
            <path d="M13 13L17 17" stroke="#9CA3AF" stroke-width="1.8" stroke-linecap="round"/>
          </svg>
          <input
            type="text"
            class="search-input"
            placeholder="Search for ticketing, wallet, or PNR issues..."
            [(ngModel)]="searchQuery"
            (keyup.enter)="searchHelp()"
          >
          <button class="search-button" (click)="searchHelp()">Search</button>
        </div>
      </div>
    </section>

    <div class="container">
      <!-- Contact Support Section -->
      <section class="contact-section">
        <div class="section-header">
          <h2 class="section-title">Contact Support</h2>
          <div class="gds-status-banner">
            <div class="status-indicator">
              <span class="status-dot"></span>
              <span class="status-text">Amadeus GDS: Operational</span>
            </div>
          </div>
        </div>

        <div class="contact-cards">
          <!-- Chat Card -->
          <div class="contact-card">
            <div class="card-icon chat-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <rect x="2" y="4" width="20" height="14" rx="2" stroke="#0D6EFD" stroke-width="2"/>
                <path d="M2 8H22" stroke="#0D6EFD" stroke-width="2"/>
                <path d="M8 12H16M8 15H12" stroke="#0D6EFD" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
            <h3>Chat with Support</h3>
            <p>Connect with a technical specialist for real-time Amadeus assistance.</p>
            <div class="card-meta green">
              <span class="meta-text">Wait time: &lt; 2 mins</span>
            </div>
            <button class="btn btn-primary full-width" (click)="startChat()">
              Start Chat Now
              <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
                <path d="M5 3L9 7L5 11" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </button>
          </div>

          <!-- Phone Card -->
          <div class="contact-card">
            <div class="card-icon phone-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <rect x="7" y="2" width="10" height="20" rx="2" stroke="#0D6EFD" stroke-width="2"/>
                <circle cx="12" cy="19" r="1" fill="#0D6EFD"/>
                <path d="M10 5H14" stroke="#0D6EFD" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
            <h3>Call IATA Master Agency</h3>
            <p class="phone-number">+1-800-IATA-DESK</p>
            <div class="card-details">
              <p class="availability">Available Mon-Fri, 9AM-6PM EST</p>
              <span class="priority-badge">B2B PRIORITY LINE</span>
            </div>
            <button class="btn btn-text" (click)="callSupport()">
              Call Now
              <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
                <path d="M5 3L9 7L5 11" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </button>
          </div>

          <!-- Ticket Card -->
          <div class="contact-card">
            <div class="card-icon ticket-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M3 6C3 5.44772 3.44772 5 4 5H20C20.5523 5 21 5.44772 21 6V9C20.4477 9 20 9.44772 20 10C20 10.5523 20.4477 11 21 11V18C21 18.5523 20.5523 19 20 19H4C3.44772 19 3 18.5523 3 18V11C3.55228 11 4 10.5523 4 10C4 9.44772 3.55228 9 3 9V6Z" stroke="#0D6EFD" stroke-width="2"/>
                <path d="M12 7V17" stroke="#0D6EFD" stroke-width="2" stroke-dasharray="2 2"/>
              </svg>
            </div>
            <h3>Submit a Ticket</h3>
            <p>For non-urgent technical, billing, or commission queries.</p>
            <div class="card-meta green">
              <span class="meta-text">Response in &lt; 4h</span>
            </div>
            <button class="btn btn-text" (click)="openTicket()">
              Open Ticket
              <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
                <path d="M5 3L9 7L5 11" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </button>
          </div>
        </div>
      </section>

      <!-- FAQ Section -->
      <section class="faq-section">
        <h2 class="section-title">Frequently Asked Questions</h2>

        <div class="faq-grid">
          <div class="faq-category" *ngFor="let category of faqCategories">
            <div class="category-header">
              <div class="category-icon" [ngClass]="category.icon">
                <svg *ngIf="category.icon === 'ticket'" width="22" height="22" viewBox="0 0 22 22" fill="none">
                  <rect x="2" y="5" width="18" height="12" rx="1.5" stroke="currentColor" stroke-width="1.8"/>
                  <path d="M2 9H20" stroke="currentColor" stroke-width="1.8"/>
                  <circle cx="11" cy="13" r="1.5" fill="currentColor"/>
                </svg>
                <svg *ngIf="category.icon === 'wallet'" width="22" height="22" viewBox="0 0 22 22" fill="none">
                  <rect x="2" y="5" width="18" height="13" rx="2" stroke="currentColor" stroke-width="1.8"/>
                  <rect x="14" y="10" width="5" height="4" rx="1" stroke="currentColor" stroke-width="1.8"/>
                  <circle cx="16.5" cy="12" r="1" fill="currentColor"/>
                </svg>
                <svg *ngIf="category.icon === 'globe'" width="22" height="22" viewBox="0 0 22 22" fill="none">
                  <path d="M3 11L7 7M7 7L11 11M7 7V15M19 11L15 15M15 15L11 11M15 15V7" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
                </svg>
                <svg *ngIf="category.icon === 'user'" width="22" height="22" viewBox="0 0 22 22" fill="none">
                  <circle cx="11" cy="7" r="3.5" stroke="currentColor" stroke-width="1.8"/>
                  <path d="M4 18C4 14.6863 6.68629 12 10 12H12C15.3137 12 18 14.6863 18 18" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
                </svg>
              </div>
              <h3>{{ category.title }}</h3>
            </div>
            <ul class="faq-list">
              <li *ngFor="let item of category.items">
                <button class="faq-item" (click)="openFAQ(category.title, item)">
                  <span>{{ item }}</span>
                  <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
                    <path d="M5 3L9 7L5 11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  </svg>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Resources Section -->
      <section class="resources-section">
        <div class="resources-card">
          <div class="resources-icon">
            <svg width="44" height="44" viewBox="0 0 44 44" fill="none">
              <circle cx="22" cy="22" r="20" fill="#0D6EFD" opacity="0.1"/>
              <path d="M16 14H28L30 16V28C30 29.1046 29.1046 30 28 30H16C14.8954 30 14 29.1046 14 28V16C14 14.8954 14.8954 14 16 14Z" stroke="#0D6EFD" stroke-width="2"/>
              <path d="M18 20H26M18 24H22" stroke="#0D6EFD" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div class="resources-content">
            <h3>New to IATA Master?</h3>
            <p>Download our complete agency training guide for Amadeus GDS users.</p>
            <div class="resources-actions">
              <button class="btn btn-outline" (click)="downloadPolicyManual()">Policy Manual</button>
              <button class="btn btn-primary" (click)="watchTutorials()">Watch Tutorials</button>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <!-- Footer -->
  <footer class="support-footer">
    <div class="footer-content">
      <div class="footer-top">
        <div class="footer-brand">
          <div class="footer-logo">
            <svg width="22" height="22" viewBox="0 0 22 22" fill="none">
              <circle cx="11" cy="11" r="10" fill="#6B7280"/>
              <path d="M11 6L8 9H11V14L14 11H11V6Z" fill="white"/>
            </svg>
            <span>IATA Master Support</span>
          </div>
          <p class="footer-text">Professional flight booking support for non-IATA travel partners.</p>
        </div>

        <div class="footer-links">
          <div class="footer-column">
            <h4>Resources</h4>
            <a href="javascript:void(0)">Amadeus Status</a>
            <a href="javascript:void(0)">IATA Guidelines</a>
          </div>
          <div class="footer-column">
            <h4>Company</h4>
            <a href="javascript:void(0)">Privacy Policy</a>
            <a href="javascript:void(0)">Service Agreement</a>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2024 IATA Master Agency Support. All rights reserved. Registered Amadeus Travel Partner.</p>
      </div>
    </div>
  </footer>
</div>
